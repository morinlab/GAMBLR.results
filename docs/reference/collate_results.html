<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Collate Results — collate_results • GAMBLR.results</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Collate Results — collate_results"><meta name="description" content="Bring together all derived sample-level results from many GAMBL pipelines."><meta property="og:description" content="Bring together all derived sample-level results from many GAMBL pipelines."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">GAMBLR.results</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.3</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/GAMBLR-results.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles"><li><hr class="dropdown-divider"></li>
    <li><h6 class="dropdown-header" data-toc-skip>Developers</h6></li>
    <li><a class="dropdown-item" href="../articles/testing.html">Testing GAMBLR packages</a></li>
  </ul></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Collate Results</h1>

      <div class="d-none name"><code>collate_results.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Bring together all derived sample-level results from many GAMBL pipelines.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">collate_results</span><span class="op">(</span></span>
<span>  <span class="va">sample_table</span>,</span>
<span>  write_to_file <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  join_with_full_metadata <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  <span class="va">these_samples_metadata</span>,</span>
<span>  <span class="va">case_set</span>,</span>
<span>  sbs_manipulation <span class="op">=</span> <span class="st">""</span>,</span>
<span>  seq_type_filter <span class="op">=</span> <span class="st">"genome"</span>,</span>
<span>  from_cache <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-sample-table">sample_table<a class="anchor" aria-label="anchor" href="#arg-sample-table"></a></dt>
<dd><p>A data frame with sample_id as the first column.</p></dd>


<dt id="arg-write-to-file">write_to_file<a class="anchor" aria-label="anchor" href="#arg-write-to-file"></a></dt>
<dd><p>Boolean statement that outputs tsv file (/projects/nhl_meta_analysis_scratch/gambl/results_local/shared/gambl_seq_type_filter_results.tsv) if TRUE, default is FALSE.</p></dd>


<dt id="arg-join-with-full-metadata">join_with_full_metadata<a class="anchor" aria-label="anchor" href="#arg-join-with-full-metadata"></a></dt>
<dd><p>Join with all columns of metadata, default is FALSE.</p></dd>


<dt id="arg-these-samples-metadata">these_samples_metadata<a class="anchor" aria-label="anchor" href="#arg-these-samples-metadata"></a></dt>
<dd><p>Optional argument to use a user specified metadata df, overwrites get_gambl_metadata in join_with_full_metadata.</p></dd>


<dt id="arg-case-set">case_set<a class="anchor" aria-label="anchor" href="#arg-case-set"></a></dt>
<dd><p>Optional short name for a pre-defined set of cases.</p></dd>


<dt id="arg-sbs-manipulation">sbs_manipulation<a class="anchor" aria-label="anchor" href="#arg-sbs-manipulation"></a></dt>
<dd><p>Optional variable for transforming sbs values (e.g log, scale).</p></dd>


<dt id="arg-seq-type-filter">seq_type_filter<a class="anchor" aria-label="anchor" href="#arg-seq-type-filter"></a></dt>
<dd><p>Filtering criteria, default is genomes.</p></dd>


<dt id="arg-from-cache">from_cache<a class="anchor" aria-label="anchor" href="#arg-from-cache"></a></dt>
<dd><p>Boolean variable for using cached results (/projects/nhl_meta_analysis_scratch/gambl/results_local/shared/gambl_seq_type_filter_results.tsv), default is TRUE. If write_to_file is TRUE, this parameter auto-defaults to FALSE.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A table keyed on biopsy_id that contains a bunch of per-sample results from GAMBL</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function takes a data frame with sample IDs (in the first column) with the <code>sample_table</code> parameter and adds sample-level results from many of the available GAMBL pipelines.
Optional parameters are <code>these_samples_metadata</code> and <code>join_with_full_metadata</code>. If <code>join_with_full_metadata</code> is set to TRUE, the function can either work with an already subset metadata
table (<code>these_sampels_metadata</code>), or, if not provided, the function will default to all metadata returned with <code>get_gambl_metadata</code>, allowing the user to extend the available information in a metadata table.
This function has also been designed so that it can get cached results, meaning that not all individual collate helper functions would have to be run to get results back.
To do so, run this function with <code>from_cache = TRUE</code> (default). In addition, it's also possible to regenerate the cached results, this is done by setting <code>write_to_file = TRUE</code>,
This operation auto defaults <code>from_cache = FALSE</code>. <code>case_set</code> is an optional parameter available for subsetting the return to an already defined set of cases.
Lastly, <code>seq_type_filter</code> lets the user control what seq type results will be returned for. Default is "genome". For more information on how to get the most out of this function,
refer to function examples, vignettes and parameter descriptions.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co">#get collated results for all capture samples, using cached results</span></span></span>
<span class="r-in"><span><span class="va">capture_collated_everything</span> <span class="op">=</span> <span class="fu">collate_results</span><span class="op">(</span>seq_type_filter <span class="op">=</span> <span class="st">"capture"</span>,</span></span>
<span class="r-in"><span>                                              from_cache <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                              write_to_file <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#use an already subset metadata table for getting collated results (cached)</span></span></span>
<span class="r-in"><span><span class="va">my_metadata</span> <span class="op">=</span> <span class="fu"><a href="get_gambl_metadata.html">get_gambl_metadata</a></span><span class="op">(</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">fl_metadata</span> <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">my_metadata</span>, <span class="va">pathology</span> <span class="op">==</span> <span class="st">"FL"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fl_collated</span> <span class="op">=</span> <span class="fu">collate_results</span><span class="op">(</span>seq_type_filter <span class="op">=</span> <span class="st">"genome"</span>,</span></span>
<span class="r-in"><span>                              join_with_full_metadata <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                              these_samples_metadata <span class="op">=</span> <span class="va">fl_metadata</span>,</span></span>
<span class="r-in"><span>                              write_to_file <span class="op">=</span> <span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span>                              from_cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#get collated results for all genome samples and join with full metadata</span></span></span>
<span class="r-in"><span><span class="va">everything_collated</span> <span class="op">=</span> <span class="fu">collate_results</span><span class="op">(</span>seq_type_filter <span class="op">=</span> <span class="st">"genome"</span>,</span></span>
<span class="r-in"><span>                                      from_cache <span class="op">=</span> <span class="cn">TRUE</span>,</span></span>
<span class="r-in"><span>                                      join_with_full_metadata <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#another example demonstrating correct usage of the sample_table parameter.</span></span></span>
<span class="r-in"><span><span class="va">fl_samples</span> <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">fl_metadata</span>, <span class="va">sample_id</span>, <span class="va">patient_id</span>, <span class="va">biopsy_id</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">fl_collated</span> <span class="op">=</span> <span class="fu">collate_results</span><span class="op">(</span>sample_table <span class="op">=</span> <span class="va">fl_samples</span>,</span></span>
<span class="r-in"><span>                              seq_type_filter <span class="op">=</span> <span class="st">"genome"</span>,</span></span>
<span class="r-in"><span>                              from_cache <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ryan Morin, Kostiantyn Dreval, Vladimir Souza.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

